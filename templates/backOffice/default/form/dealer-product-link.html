{form name=$form_name}
{form_hidden_fields form=$form}
{render_form_field form=$form field="success_url" value={$success_url|default:{url path="/admin/module/Dealer/dealer/edit#associated" dealer_id=$dealer_id}}}
{form_field form=$form field="product_id"}
{if $product_id}
    <div class="form-group hidden">
        <input type="number" class="form-control" name="{$name}" id="{$label_attr.for}"
               value="{$product_id|default:$DEALER_ID}"/>
    </div>
{else}
    <div class="form-group">
        <label class="control-label" for="{$label_attr.for}">
            {intl l=$label d="dealer.bo.default"}
            {if $required}<span class="required">*</span>{/if}
        </label>

        {form_error form=$form field="product_id"}{$message}{/form_error}


        <select class="form-control" name="{$name}">
            {loop type="product" name="product_list"}
                <option value="{$ID}">{$TITLE}</option>
            {/loop}
        </select>
    </div>
{/if}
{/form_field}
{form_field form=$form field="dealer_id"}
{if $dealer_id}
    <div class="form-group hidden">
        <input type="number" class="form-control" name="{$name}" id="{$label_attr.for}"
               value="{$dealer_id|default:$DEALER_ID}"/>
    </div>
{else}
    <div class="form-group">
        <label class="control-label" for="{$label_attr.for}">
            {intl l=$label d="dealer.bo.default"}
            {if $required}<span class="required">*</span>{/if}
        </label>

        {form_error form=$form field="dealer_id"}{$message}{/form_error}


        <select class="form-control" name="{$name}">
            {loop type="dealer" backend_context="yes" name="dealer_list"}
                <option value="{$ID}">{$TITLE}</option>
            {/loop}
        </select>
    </div>
{/if}
{/form_field}
{/form}